<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Laborat√≥rio de Decis√£o √âtica e Tecnol√≥gica</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; background-color: #F8F8F8; }
    .botao-concluido { background-color: #00ABAC !important; }
    /* Garantimos que a caixa comece vis√≠vel quando houver conte√∫do */
    #caixaCaso { transition: all 0.3s ease; }
  </style>
</head>
<body class="p-6">

  <div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-black uppercase text-center mb-8" style="color: #8a0538;">F√© em Perspectiva</h1>

    <div class="bg-white p-6 rounded-lg shadow-sm mb-8">
      <h2 class="text-xl font-extrabold uppercase mb-3" style="color: #9654ff;">Sua tarefa:</h2>
      <p class="text-gray-700 mb-2">1. Identifique as dimens√µes √©ticas e sociais[cite: 11].</p>
      <p class="text-gray-700 mb-2">2. Relacione com conceitos de aula (empatia, inclus√£o)[cite: 11].</p>
      <p class="text-gray-700">3. Proponha uma interpreta√ß√£o cr√≠tica[cite: 11].</p>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-sm">
      <div id="progresso" class="flex justify-center gap-2 mb-2"></div>
      <div id="pontuacao" class="text-center text-gray-700 mb-6 font-normal uppercase text-sm"></div>

      <div class="flex flex-wrap justify-center gap-4 mb-6">
        <button id="btn1" class="text-white px-5 py-2 rounded-md font-semibold" style="background-color: #6D64AE;" onclick="mostrarCaso(1)">Caso 1</button>
        <button id="btn2" class="text-white px-5 py-2 rounded-md font-semibold" style="background-color: #6D64AE;" onclick="mostrarCaso(2)">Caso 2</button>
        <button id="btn3" class="text-white px-5 py-2 rounded-md font-semibold" style="background-color: #6D64AE;" onclick="mostrarCaso(3)">Caso 3</button>
        <button id="btn4" class="text-white px-5 py-2 rounded-md font-semibold" style="background-color: #6D64AE;" onclick="mostrarCaso(4)">Caso 4</button>
      </div>

      <div id="caixaCaso" class="bg-gray-50 p-6 rounded-md border border-gray-200">
        <h2 id="tituloCaso" class="text-xl font-extrabold mb-2 uppercase" style="color: #9654ff;">Escolha um cen√°rio acima üëÜ</h2>
        <p id="textoCaso" class="text-gray-600 mb-4 italic"></p>

        <div id="areaInteracao" style="display: none;">
          <textarea id="respostaAluno" class="w-full border rounded p-3 mb-4 text-gray-700 bg-white" rows="4" placeholder="Escreva sua an√°lise cr√≠tica aqui..."></textarea>
          <button id="btnEnviar" class="text-white px-6 py-2 rounded-md font-semibold transition" style="background-color: #ff0040;" onclick="avaliarResposta()">Enviar Resposta</button>
        </div>

        <div id="feedback" class="mt-4 text-green-600 font-bold"></div>
        <div id="reflexao" class="mt-4 p-4 bg-pink-50 rounded border-l-4 border-pink-400 text-gray-800 hidden">
          <strong class="block mb-2">Sugest√£o de Reflex√£o:</strong>
          <span id="textoReflexao"></span>
        </div>
      </div>
      <div id="medalha" class="mt-4 text-center font-bold text-2xl" style="color: #8a0538;"></div>
    </div>
  </div>

<script>
  const casos = {
    1: { 
      descricao: "Plataforma Educacional Inclusiva: Exige internet constante e celulares modernos, dificultando acesso de alunos rurais e de baixa renda[cite: 18].", 
      reflexao: "Eu n√£o implementaria sem garantir acesso offline e prote√ß√£o de dados, pois invisibiliza quem depende da escola para acessar tecnologia[cite: 20, 21, 23].",
      concluido: false 
    },
    2: { 
      descricao: "App de Den√∫ncia: Exige formul√°rios longos e n√£o tem recursos de acessibilidade, sendo usado apenas por um grupo espec√≠fico[cite: 24, 25].", 
      reflexao: "Implementaria com ajustes, incluindo √°udio e linguagem simples para n√£o excluir estudantes com defici√™ncia intelectual[cite: 26, 27, 29].",
      concluido: false 
    },
    3: { 
      descricao: "Sele√ß√£o Automatizada: Software ignora trajet√≥rias n√£o lineares ou de institui√ß√µes perif√©ricas, alegando neutralidade de dados[cite: 30, 31, 32].", 
      reflexao: "O sistema carrega vieses impl√≠citos. √â necess√°ria auditoria frequente e participa√ß√£o humana para garantir justi√ßa[cite: 33, 35, 36].",
      concluido: false 
    },
    4: { 
      descricao: "Monitoramento de Dados: Pol√≠ticas p√∫blicas baseadas em m√©dias gerais, sem recortes de ra√ßa ou defici√™ncia[cite: 37, 38].", 
      reflexao: "Essa tecnologia exclui diretamente quem tem necessidades espec√≠ficas. O design deve ser universal desde o in√≠cio[cite: 39, 41].",
      concluido: false 
    }
  };

  let casoAtual = null;

  function mostrarCaso(n) {
    casoAtual = n;
    const caso = casos[n];
    
    // Atualiza textos
    document.getElementById("tituloCaso").textContent = "Caso " + n;
    document.getElementById("textoCaso").textContent = caso.descricao;
    
    // Reseta e mostra √°rea de resposta
    document.getElementById("areaInteracao").style.display = "block";
    document.getElementById("respostaAluno").value = "";
    document.getElementById("respostaAluno").disabled = caso.concluido;
    document.getElementById("btnEnviar").disabled = caso.concluido;
    
    // Esconde reflex√£o anterior
    document.getElementById("reflexao").classList.add("hidden");
    document.getElementById("feedback").textContent = "";

    // Se j√° foi conclu√≠do, mostra a reflex√£o salva
    if (caso.concluido) {
      exibirSugestao(caso.reflexao);
    }
  }

  function avaliarResposta() {
    const resposta = document.getElementById("respostaAluno").value.trim();
    if (!resposta) {
      alert("Por favor, escreva sua reflex√£o antes de enviar.");
      return;
    }

    casos[casoAtual].concluido = true;
    document.getElementById("feedback").textContent = "‚úÖ Resposta registrada!";
    document.getElementById("respostaAluno").disabled = true;
    document.getElementById("btnEnviar").disabled = true;
    document.getElementById("btn" + casoAtual).classList.add("botao-concluido");

    exibirSugestao(casos[casoAtual].reflexao);
    atualizarProgresso();
  }

  function exibirSugestao(texto) {
    const divReflexao = document.getElementById("reflexao");
    document.getElementById("textoReflexao").textContent = texto;
    divReflexao.classList.remove("hidden");
  }

  function atualizarProgresso() {
    const progresso = document.getElementById("progresso");
    const pontuacao = document.getElementById("pontuacao");
    progresso.innerHTML = '';
    let completados = 0;

    for (let i = 1; i <= 4; i++) {
      const bola = document.createElement("div");
      bola.className = `w-5 h-5 rounded-full border-2 ${casos[i].concluido ? 'bg-green-500 border-green-600' : 'bg-gray-300 border-gray-400'}`;
      progresso.appendChild(bola);
      if (casos[i].concluido) completados++;
    }

    pontuacao.textContent = `Casos conclu√≠dos: ${completados} / 4 [cite: 42]`;
    if (completados === 4) {
      document.getElementById("medalha").innerHTML = "üèÖ Atividade Conclu√≠da com Sucesso! [cite: 43]";
    }
  }

  window.onload = atualizarProgresso;
</script>
</body>
</html>
